{"ast":null,"code":"import _objectSpread from\"/Users/jyotisingh/Desktop/akkshatt/untitled folder/app/video-clipper/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'./App.css';import YouTubeUpload from'./YouTubeUpload';import TitleGenerator from'./TitleGenerator';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// SVG Icons as components\nconst SparkleIcon=()=>/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 0l3.09 6.26L22 9.27l-5.45 5.32L18.18 24 12 20.27 5.82 24l1.63-9.41L2 9.27l6.91-3.01L12 0z\"})});const RocketIcon=()=>/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2L13.09 8.26L22 12L13.09 15.74L12 22L10.91 15.74L2 12L10.91 8.26L12 2Z\"})});const VideoIcon=()=>/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 5v14l11-7z\"})});const ClockIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"12,6 12,12 16,14\"})]});const DownloadIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"7,10 12,15 17,10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"15\",x2:\"12\",y2:\"3\"})]});const LoadingIcon=()=>/*#__PURE__*/_jsx(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"currentColor\",className:\"animate-spin\",children:/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\",fill:\"none\",strokeDasharray:\"32\",strokeDashoffset:\"32\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"stroke-dashoffset\",dur:\"1s\",values:\"32;0\",repeatCount:\"indefinite\"})})});const CheckIcon=()=>/*#__PURE__*/_jsx(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20,6 9,17 4,12\"})});function App(){const[url,setUrl]=useState('');const[isLoading,setIsLoading]=useState(false);const[clips,setClips]=useState([]);const[numClips,setNumClips]=useState(3);const[clipDuration,setClipDuration]=useState(30);const[captionsEnabled,setCaptionsEnabled]=useState(true);const[captionStyle,setCaptionStyle]=useState('single-word');const[processingMode,setProcessingMode]=useState('auto');// auto, crop, resize\nconst[loadingVideos,setLoadingVideos]=useState(new Set());const[currentView,setCurrentView]=useState('generate');const[uploadingClipIndex,setUploadingClipIndex]=useState(null);const[uploadStatus,setUploadStatus]=useState({});const[clipTitles,setClipTitles]=useState({});const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);try{console.log('Sending request to server...');const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const response=await fetch(\"\".concat(API_URL,\"/analyze-viral\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({ytLink:url,numClips:numClips,clipDuration:clipDuration,captionStyle:captionsEnabled?captionStyle:'none',fontStyle:'impact',processingMode:processingMode})});console.log('Response status:',response.status);const data=await response.json();console.log('Response data:',data);if(data.clips){console.log('Setting clips:',data.clips);setClips(data.clips);}else{console.warn('No clips returned from server');}}catch(error){console.error('Error during fetch:',error);alert('Failed to generate clips. Please check if the server is running on localhost:5000');}finally{setIsLoading(false);}};// Add a function to test server connectivity\nconst testServer=async()=>{try{const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const response=await fetch(\"\".concat(API_URL,\"/\"));const data=await response.json();console.log('Server test successful:',data);// Also test clips endpoint\nconst clipsResponse=await fetch(\"\".concat(API_URL,\"/clips-list\"));const clipsData=await clipsResponse.json();console.log('Available clips:',clipsData);}catch(error){console.error('Server test failed:',error);}};// Test server connectivity on component mount\nReact.useEffect(()=>{testServer();},[]);// Initialize loading state when clips change\nReact.useEffect(()=>{if(clips.length>0){const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';console.log('🎬 Clips received:',clips.map((clip,index)=>({index,filename:clip.filename,url:\"\".concat(API_URL,\"/clips/\").concat(clip.filename)})));setLoadingVideos(new Set(clips.map((_,index)=>index)));// Fallback: Clear loading states after 30 seconds to prevent stuck loading\nconst fallbackTimeout=setTimeout(()=>{console.log('⏰ Fallback: Clearing all loading states after 30 seconds');setLoadingVideos(new Set());},30000);return()=>clearTimeout(fallbackTimeout);}},[clips]);// Handle title generation for a specific clip\nconst handleTitlesGenerated=(clipIndex,titles)=>{console.log(\"\\u2728 Titles generated for clip \".concat(clipIndex,\":\"),titles);setClipTitles(prev=>_objectSpread(_objectSpread({},prev),{},{[clipIndex]:titles}));};// Upload a single clip to YouTube\nconst handleUploadToYouTube=async(clip,index)=>{setUploadingClipIndex(index);setUploadStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:'Uploading...'}));// Use the best generated title if available\nconst generatedTitles=clipTitles[index];const bestTitle=generatedTitles&&generatedTitles.length>0?generatedTitles[0].title:clip.title||\"Viral Clip #\".concat(index+1);try{const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const response=await fetch(\"\".concat(API_URL,\"/upload/youtube-shorts\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({clipFilename:clip.filename,title:bestTitle,description:clip.description||'',originalVideoUrl:url})});const result=await response.json();if(result.success){setUploadStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:'✅ Uploaded! (Public)'}));}else{setUploadStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:'❌ Upload failed'}));}}catch(err){setUploadStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:'❌ Upload failed'}));}finally{setUploadingClipIndex(null);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo-removebg-preview.png\",alt:\"Viral Clip Generator\",className:\"logo-image\"}),/*#__PURE__*/_jsx(\"span\",{className:\"brand-text\",children:\"Trilion\"})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-menu\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#features\",className:\"nav-link\",children:\"Features\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-link \".concat(currentView==='generate'?'active':''),onClick:()=>setCurrentView('generate'),children:\"Generate Clips\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-link \".concat(currentView==='upload'?'active':''),onClick:()=>setCurrentView('upload'),children:\"\\uD83D\\uDE80 Upload to YouTube\"})]})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"hero\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hero-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hero-badge\",children:[/*#__PURE__*/_jsx(SparkleIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"AI-Powered Viral Content Creation\"})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"hero-title\",children:[\"Transform Your Videos into\",/*#__PURE__*/_jsx(\"span\",{className:\"gradient-text\",children:\" Viral Clips\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"hero-description\",children:\"Our advanced AI analyzes your content to identify and extract the most engaging moments, creating perfectly timed clips optimized for maximum viral potential on social media.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:\"10M+\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Clips Generated\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:\"98%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Accuracy Rate\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:\"50x\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Faster Creation\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-visual\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"floating-elements\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"floating-icon\",style:{animationDelay:'0s'},children:/*#__PURE__*/_jsx(VideoIcon,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"floating-icon\",style:{animationDelay:'2s'},children:/*#__PURE__*/_jsx(RocketIcon,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"floating-icon\",style:{animationDelay:'4s'},children:/*#__PURE__*/_jsx(SparkleIcon,{})})]})})]}),/*#__PURE__*/_jsx(\"section\",{id:\"features\",className:\"features-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"features-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Why Choose Our AI Clip Generator?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"features-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon gradient-bg-1\",children:/*#__PURE__*/_jsx(SparkleIcon,{})}),/*#__PURE__*/_jsx(\"h3\",{children:\"AI-Powered Analysis\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Advanced machine learning identifies viral moments with 98% accuracy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon gradient-bg-2\",children:/*#__PURE__*/_jsx(RocketIcon,{})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Instant Generation\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create professional viral clips in seconds, not hours\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon gradient-bg-3\",children:/*#__PURE__*/_jsx(VideoIcon,{})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Platform Optimized\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Perfect formatting for TikTok, Instagram Reels, and YouTube Shorts\"})]})]})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:currentView==='generate'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{id:\"generate\",className:\"generator-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"generator-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"generator-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Create Your Viral Clips\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtitle\",children:\"Paste your YouTube URL and let our AI create engaging clips in seconds\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"generator-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"url-input\",placeholder:\"Paste your YouTube URL here...\",value:url,onChange:e=>setUrl(e.target.value),required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(VideoIcon,{})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:isLoading||!url,children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Processing...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RocketIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Create Viral Clips\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"options-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"options-row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"option-label\",children:[/*#__PURE__*/_jsx(VideoIcon,{}),\"Processing Mode\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"option-select\",value:processingMode,onChange:e=>setProcessingMode(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"auto\",children:\"\\uD83E\\uDD16 Auto-Detect (Recommended)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"crop\",children:\"\\uD83C\\uDFA4 Cropped - Best for focusing on speaker\"}),/*#__PURE__*/_jsx(\"option\",{value:\"resize\",children:\"\\uD83D\\uDCF1 Rescaled - Best when no speaker/voiceovers\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"option-label\",children:[/*#__PURE__*/_jsx(SparkleIcon,{}),\"Captions\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-container\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:captionsEnabled,onChange:e=>setCaptionsEnabled(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-slider\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-text\",children:captionsEnabled?'On':'Off'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"option-label\",children:[/*#__PURE__*/_jsx(SparkleIcon,{}),\"Caption Style\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"option-select\",value:captionStyle,onChange:e=>setCaptionStyle(e.target.value),disabled:!captionsEnabled,children:[/*#__PURE__*/_jsx(\"option\",{value:\"single-word\",children:\"Single Word\"}),/*#__PURE__*/_jsx(\"option\",{value:\"engaging\",children:\"Engaging Phrases\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"options-row-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"option-label\",children:[/*#__PURE__*/_jsx(ClockIcon,{}),\"Number of Clips\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"option-select\",value:numClips,onChange:e=>setNumClips(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1 clip\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"2 clips\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"3 clips\"}),/*#__PURE__*/_jsx(\"option\",{value:4,children:\"4 clips\"}),/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5 clips\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"option-label\",children:[/*#__PURE__*/_jsx(ClockIcon,{}),\"Clip Duration\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"option-select\",value:clipDuration,onChange:e=>setClipDuration(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:15,children:\"15 seconds\"}),/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30 seconds\"}),/*#__PURE__*/_jsx(\"option\",{value:60,children:\"60 seconds\"})]})]})]}),processingMode!=='auto'&&/*#__PURE__*/_jsx(\"div\",{className:\"processing-mode-info\",style:{fontSize:'0.85rem',color:'#666',marginTop:'0.5rem',padding:'0.5rem',background:'#f8f9fa',borderRadius:'4px',borderLeft:'3px solid #007bff'},children:processingMode==='crop'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFA4 Cropped Mode:\"}),\" Uses AI face detection to focus on speakers. Best for talking head videos, interviews, presentations.\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCF1 Rescaled Mode:\"}),\" Preserves all visual content by resizing. Best for graphics, animations, text overlays, or stock footage with voiceover.\"]})})]})]})]})}),isLoading&&/*#__PURE__*/_jsx(\"section\",{className:\"loading-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loading-animation\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-dots\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dot\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Creating Your Viral Clips\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Our AI is analyzing your video and extracting the most engaging moments...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-steps\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step active\",children:[/*#__PURE__*/_jsx(CheckIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Video Downloaded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step active\",children:[/*#__PURE__*/_jsx(LoadingIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"AI Analysis\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Clip Generation\"})})]})]})}),clips.length>0&&/*#__PURE__*/_jsx(\"section\",{className:\"results-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-success\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDF89 Success! Your viral clips are ready\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Our AI has analyzed your video and created \",clips.length,\" optimized clips for maximum engagement\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Your Viral Clips\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtitle\",children:\"AI-powered clips optimized for maximum engagement and viral potential\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"results-grid\",children:clips.map((clip,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"result-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-video-container\",children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',background:'#000',zIndex:0}}),process.env.NODE_ENV==='development'&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'5px',left:'5px',zIndex:10,color:'yellow',fontSize:'10px',background:'rgba(0,0,0,0.8)',padding:'2px'},children:clip.filename}),/*#__PURE__*/_jsxs(\"video\",{className:\"result-video vertical-video\",controls:true,preload:\"metadata\",style:{position:'relative',zIndex:1},onLoadStart:()=>{console.log(\"\\uD83D\\uDD04 Video \".concat(index+1,\" loading started - \").concat(clip.filename));setLoadingVideos(prev=>{const newSet=new Set(prev);newSet.add(index);console.log(\"\\uD83D\\uDD04 Loading state updated for video \".concat(index+1,\": true\"));return newSet;});},onLoadedData:()=>{console.log(\"\\u2705 Video \".concat(index+1,\" data loaded successfully - \").concat(clip.filename));setLoadingVideos(prev=>{const newSet=new Set(prev);newSet.delete(index);console.log(\"\\u2705 Loading state updated for video \".concat(index+1,\": false\"));return newSet;});},onError:e=>{console.error(\"\\u274C Video \".concat(index+1,\" error - \").concat(clip.filename,\":\"),e);const videoElement=e.target;if(videoElement&&videoElement.error){console.error(\"\\u274C Video \".concat(index+1,\" error details:\"),{code:videoElement.error.code,message:videoElement.error.message,url:\"http://localhost:5000/clips/\".concat(clip.filename)});}setLoadingVideos(prev=>{const newSet=new Set(prev);newSet.delete(index);console.log(\"\\u274C Loading state updated for video \".concat(index+1,\": false (error)\"));return newSet;});},onCanPlay:()=>{console.log(\"\\uD83C\\uDFAC Video \".concat(index+1,\" can play - \").concat(clip.filename));setLoadingVideos(prev=>{const newSet=new Set(prev);newSet.delete(index);console.log(\"\\uD83C\\uDFAC Loading state updated for video \".concat(index+1,\": false (can play)\"));return newSet;});},onLoadedMetadata:()=>{console.log(\"\\uD83D\\uDCCA Video \".concat(index+1,\" metadata loaded - \").concat(clip.filename));},children:[/*#__PURE__*/_jsx(\"source\",{src:\"http://localhost:5000/clips/\".concat(clip.filename),type:\"video/mp4\",onError:e=>{console.error(\"\\uD83D\\uDEA8 Source error for \".concat(clip.filename,\":\"),e);console.error(\"\\uD83D\\uDEA8 Failed URL: http://localhost:5000/clips/\".concat(clip.filename));}}),\"Your browser does not support the video tag.\"]},\"video-\".concat(index,\"-\").concat(clip.filename)),loadingVideos.has(index)&&/*#__PURE__*/_jsxs(\"div\",{className:\"video-loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video-loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.9rem'},children:\"Loading clip...\"}),/*#__PURE__*/_jsxs(\"small\",{style:{opacity:0.7,fontSize:'0.7rem'},children:[\"Clip #\",index+1]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83C\\uDFAC Viral Clip #\",index+1]}),/*#__PURE__*/_jsx(\"p\",{children:clip.description||\"Engaging \".concat(clip.duration||clipDuration,\"s clip optimized for viral growth and maximum audience engagement.\")}),clip.processing_method&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',opacity:0.8,marginTop:'0.5rem'},children:clip.processing_method==='crop'?/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83C\\uDFA4 Speaker-focused crop (confidence: \",((clip.speaker_confidence||0)*100).toFixed(0),\"%)\"]}):/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCF1 Content-preserving resize (\",clip.content_type,\")\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-actions\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"http://localhost:5000/clips/\".concat(clip.filename),className:\"action-button download\",download:\"viral_clip_\".concat(index+1,\".mp4\"),onClick:e=>{console.log(\"Downloading clip: \".concat(clip.filename));// Test if file exists first\nfetch(\"http://localhost:5000/clips/\".concat(clip.filename),{method:'HEAD'}).then(response=>{if(!response.ok){e.preventDefault();alert('File not found on server');}}).catch(error=>{console.error('Download test failed:',error);e.preventDefault();alert('Cannot access file');});},children:[/*#__PURE__*/_jsx(DownloadIcon,{}),\"Download HD\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"action-button share\",onClick:()=>{const clipUrl=\"http://localhost:5000/clips/\".concat(clip.filename);console.log('Sharing clip:',clipUrl);if(navigator.share){navigator.share({title:\"Viral Clip #\".concat(index+1),text:'Check out this AI-generated viral clip!',url:clipUrl});}else{navigator.clipboard.writeText(clipUrl);alert('Link copied to clipboard!');}},children:[/*#__PURE__*/_jsx(SparkleIcon,{}),\"Share\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-button upload\",style:{background:'#ff0000',color:'white',marginLeft:8},onClick:()=>handleUploadToYouTube(clip,index),disabled:uploadingClipIndex===index,children:uploadingClipIndex===index?'Uploading...':'🚀 Upload to YouTube'}),uploadStatus[index]&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:10,fontWeight:500},children:uploadStatus[index]})]}),/*#__PURE__*/_jsx(TitleGenerator,{clipFilename:clip.filename,onTitlesGenerated:titles=>handleTitlesGenerated(index,titles)})]})]},index))})]})})]}):/*#__PURE__*/_jsx(YouTubeUpload,{})})]});}export default App;","map":{"version":3,"names":["React","useState","YouTubeUpload","TitleGenerator","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SparkleIcon","width","height","viewBox","fill","children","d","RocketIcon","VideoIcon","ClockIcon","cx","cy","r","points","DownloadIcon","x1","y1","x2","y2","LoadingIcon","className","stroke","strokeWidth","strokeDasharray","strokeDashoffset","attributeName","dur","values","repeatCount","CheckIcon","App","url","setUrl","isLoading","setIsLoading","clips","setClips","numClips","setNumClips","clipDuration","setClipDuration","captionsEnabled","setCaptionsEnabled","captionStyle","setCaptionStyle","processingMode","setProcessingMode","loadingVideos","setLoadingVideos","Set","currentView","setCurrentView","uploadingClipIndex","setUploadingClipIndex","uploadStatus","setUploadStatus","clipTitles","setClipTitles","handleSubmit","e","preventDefault","console","log","API_URL","process","env","REACT_APP_API_URL","response","fetch","concat","method","headers","body","JSON","stringify","ytLink","fontStyle","status","data","json","warn","error","alert","testServer","clipsResponse","clipsData","useEffect","length","map","clip","index","filename","_","fallbackTimeout","setTimeout","clearTimeout","handleTitlesGenerated","clipIndex","titles","prev","_objectSpread","handleUploadToYouTube","generatedTitles","bestTitle","title","clipFilename","description","originalVideoUrl","result","success","err","src","alt","href","onClick","style","animationDelay","id","onSubmit","type","placeholder","value","onChange","target","required","disabled","checked","parseInt","fontSize","color","marginTop","padding","background","borderRadius","borderLeft","position","top","left","zIndex","NODE_ENV","controls","preload","onLoadStart","newSet","add","onLoadedData","delete","onError","videoElement","code","message","onCanPlay","onLoadedMetadata","has","margin","opacity","duration","processing_method","speaker_confidence","toFixed","content_type","download","then","ok","catch","clipUrl","navigator","share","text","clipboard","writeText","marginLeft","fontWeight","onTitlesGenerated"],"sources":["/Users/jyotisingh/Desktop/akkshatt/untitled folder/app/video-clipper/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport YouTubeUpload from './YouTubeUpload';\nimport TitleGenerator from './TitleGenerator';\n\ninterface Clip {\n  id: number;\n  title: string;\n  description: string;\n  start_time: string;\n  end_time: string;\n  duration: number;\n  timestamp: number;\n  filename: string;\n  captionStyle?: string;\n  fontStyle?: string;\n  isViral?: boolean;\n  fileSize?: number;\n  failed?: boolean;\n  error?: string;\n  hook_type?: string;\n  viral_score?: number;\n  natural_flow_score?: number;\n  quality_rating?: string;\n  analysis_method?: string;\n  post_analysis?: {\n    quality_check: string;\n    actual_content: string;\n    language_confirmed: string;\n  };\n  // Enhanced speaker detection properties\n  processing_method?: 'crop' | 'resize';\n  has_visible_speaker?: boolean;\n  content_type?: string;\n  speaker_confidence?: number;\n  detection_reasoning?: string[];\n}\n\n// SVG Icons as components\nconst SparkleIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 0l3.09 6.26L22 9.27l-5.45 5.32L18.18 24 12 20.27 5.82 24l1.63-9.41L2 9.27l6.91-3.01L12 0z\"/>\n  </svg>\n);\n\nconst RocketIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 2L13.09 8.26L22 12L13.09 15.74L12 22L10.91 15.74L2 12L10.91 8.26L12 2Z\"/>\n  </svg>\n);\n\nconst VideoIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M8 5v14l11-7z\"/>\n  </svg>\n);\n\nconst ClockIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n    <polyline points=\"12,6 12,12 16,14\"/>\n  </svg>\n);\n\nconst DownloadIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"/>\n    <polyline points=\"7,10 12,15 17,10\"/>\n    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"/>\n  </svg>\n);\n\nconst LoadingIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"animate-spin\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" strokeDasharray=\"32\" strokeDashoffset=\"32\">\n      <animate attributeName=\"stroke-dashoffset\" dur=\"1s\" values=\"32;0\" repeatCount=\"indefinite\"/>\n    </circle>\n  </svg>\n);\n\nconst CheckIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <polyline points=\"20,6 9,17 4,12\"/>\n  </svg>\n);\n\nfunction App() {\n  const [url, setUrl] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [clips, setClips] = useState<Clip[]>([]);\n  const [numClips, setNumClips] = useState(3);\n  const [clipDuration, setClipDuration] = useState(30);\n  const [captionsEnabled, setCaptionsEnabled] = useState(true);\n  const [captionStyle, setCaptionStyle] = useState('single-word');\n  const [processingMode, setProcessingMode] = useState('auto'); // auto, crop, resize\n  const [loadingVideos, setLoadingVideos] = useState<Set<number>>(new Set());\n  const [currentView, setCurrentView] = useState<'generate' | 'upload'>('generate');\n  const [uploadingClipIndex, setUploadingClipIndex] = useState<number | null>(null);\n  const [uploadStatus, setUploadStatus] = useState<{[key: number]: string}>({});\n  const [clipTitles, setClipTitles] = useState<{[key: number]: any[]}>({});\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      console.log('Sending request to server...');\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n      const response = await fetch(`${API_URL}/analyze-viral`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ytLink: url,\n          numClips: numClips,\n          clipDuration: clipDuration,\n          captionStyle: captionsEnabled ? captionStyle : 'none',\n          fontStyle: 'impact',\n          processingMode: processingMode\n        }),\n      });\n\n      console.log('Response status:', response.status);\n      const data = await response.json();\n      console.log('Response data:', data);\n      \n      if (data.clips) {\n        console.log('Setting clips:', data.clips);\n        setClips(data.clips);\n      } else {\n        console.warn('No clips returned from server');\n      }\n    } catch (error) {\n      console.error('Error during fetch:', error);\n      alert('Failed to generate clips. Please check if the server is running on localhost:5000');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Add a function to test server connectivity\n  const testServer = async () => {\n    try {\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n      const response = await fetch(`${API_URL}/`);\n      const data = await response.json();\n      console.log('Server test successful:', data);\n      \n      // Also test clips endpoint\n      const clipsResponse = await fetch(`${API_URL}/clips-list`);\n      const clipsData = await clipsResponse.json();\n      console.log('Available clips:', clipsData);\n    } catch (error) {\n      console.error('Server test failed:', error);\n    }\n  };\n\n  // Test server connectivity on component mount\n  React.useEffect(() => {\n    testServer();\n  }, []);\n\n  // Initialize loading state when clips change\n  React.useEffect(() => {\n    if (clips.length > 0) {\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n      console.log('🎬 Clips received:', clips.map((clip, index) => ({ \n        index, \n        filename: clip.filename, \n        url: `${API_URL}/clips/${clip.filename}` \n      })));\n      setLoadingVideos(new Set(clips.map((_, index) => index)));\n      \n      // Fallback: Clear loading states after 30 seconds to prevent stuck loading\n      const fallbackTimeout = setTimeout(() => {\n        console.log('⏰ Fallback: Clearing all loading states after 30 seconds');\n        setLoadingVideos(new Set());\n      }, 30000);\n      \n      return () => clearTimeout(fallbackTimeout);\n    }\n  }, [clips]);\n\n  // Handle title generation for a specific clip\n  const handleTitlesGenerated = (clipIndex: number, titles: any[]) => {\n    console.log(`✨ Titles generated for clip ${clipIndex}:`, titles);\n    setClipTitles(prev => ({\n      ...prev,\n      [clipIndex]: titles\n    }));\n  };\n\n  // Upload a single clip to YouTube\n  const handleUploadToYouTube = async (clip: Clip, index: number) => {\n    setUploadingClipIndex(index);\n    setUploadStatus((prev) => ({ ...prev, [index]: 'Uploading...' }));\n    \n    // Use the best generated title if available\n    const generatedTitles = clipTitles[index];\n    const bestTitle = generatedTitles && generatedTitles.length > 0 \n      ? generatedTitles[0].title \n      : clip.title || `Viral Clip #${index + 1}`;\n    \n    try {\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n      const response = await fetch(`${API_URL}/upload/youtube-shorts`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          clipFilename: clip.filename,\n          title: bestTitle,\n          description: clip.description || '',\n          originalVideoUrl: url\n        })\n      });\n      const result = await response.json();\n      if (result.success) {\n        setUploadStatus((prev) => ({ ...prev, [index]: '✅ Uploaded! (Public)' }));\n      } else {\n        setUploadStatus((prev) => ({ ...prev, [index]: '❌ Upload failed' }));\n      }\n    } catch (err) {\n      setUploadStatus((prev) => ({ ...prev, [index]: '❌ Upload failed' }));\n    } finally {\n      setUploadingClipIndex(null);\n    }\n  };\n\n  return (\n    <div className=\"app-container\">\n      {/* Header */}\n      <header className=\"header\">\n        <div className=\"header-content\">\n          <div className=\"logo-container\">\n            <img src=\"/logo-removebg-preview.png\" alt=\"Viral Clip Generator\" className=\"logo-image\" />\n            <span className=\"brand-text\">Trilion</span>\n          </div>\n          <nav className=\"nav-menu\">\n            <a href=\"#features\" className=\"nav-link\">Features</a>\n            <button \n              className={`nav-link ${currentView === 'generate' ? 'active' : ''}`}\n              onClick={() => setCurrentView('generate')}\n            >\n              Generate Clips\n            </button>\n            <button \n              className={`nav-link ${currentView === 'upload' ? 'active' : ''}`}\n              onClick={() => setCurrentView('upload')}\n            >\n              🚀 Upload to YouTube\n            </button>\n          </nav>\n        </div>\n      </header>\n        \n      {/* Hero Section */}\n      <section className=\"hero\">\n        <div className=\"hero-background\"></div>\n        <div className=\"hero-content\">\n          <div className=\"hero-badge\">\n            <SparkleIcon />\n            <span>AI-Powered Viral Content Creation</span>\n          </div>\n          <h1 className=\"hero-title\">\n            Transform Your Videos into\n            <span className=\"gradient-text\"> Viral Clips</span>\n          </h1>\n          <p className=\"hero-description\">\n            Our advanced AI analyzes your content to identify and extract the most engaging moments, \n            creating perfectly timed clips optimized for maximum viral potential on social media.\n          </p>\n          <div className=\"hero-stats\">\n            <div className=\"stat-item\">\n              <div className=\"stat-number\">10M+</div>\n              <div className=\"stat-label\">Clips Generated</div>\n            </div>\n            <div className=\"stat-item\">\n              <div className=\"stat-number\">98%</div>\n              <div className=\"stat-label\">Accuracy Rate</div>\n            </div>\n            <div className=\"stat-item\">\n              <div className=\"stat-number\">50x</div>\n              <div className=\"stat-label\">Faster Creation</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"hero-visual\">\n          <div className=\"floating-elements\">\n            <div className=\"floating-icon\" style={{animationDelay: '0s'}}><VideoIcon /></div>\n            <div className=\"floating-icon\" style={{animationDelay: '2s'}}><RocketIcon /></div>\n            <div className=\"floating-icon\" style={{animationDelay: '4s'}}><SparkleIcon /></div>\n          </div>\n        </div>\n      </section>\n\n      {/* Features Section */}\n      <section id=\"features\" className=\"features-section\">\n        <div className=\"features-container\">\n          <h2 className=\"section-title\">Why Choose Our AI Clip Generator?</h2>\n          <div className=\"features-grid\">\n            <div className=\"feature-card\">\n              <div className=\"feature-icon gradient-bg-1\">\n                <SparkleIcon />\n              </div>\n              <h3>AI-Powered Analysis</h3>\n              <p>Advanced machine learning identifies viral moments with 98% accuracy</p>\n            </div>\n            <div className=\"feature-card\">\n              <div className=\"feature-icon gradient-bg-2\">\n                <RocketIcon />\n              </div>\n              <h3>Instant Generation</h3>\n              <p>Create professional viral clips in seconds, not hours</p>\n            </div>\n            <div className=\"feature-card\">\n              <div className=\"feature-icon gradient-bg-3\">\n                <VideoIcon />\n              </div>\n              <h3>Platform Optimized</h3>\n              <p>Perfect formatting for TikTok, Instagram Reels, and YouTube Shorts</p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Main Content */}\n      <main className=\"main-content\">\n        {currentView === 'generate' ? (\n          <>\n            {/* Input Section */}\n            <section id=\"generate\" className=\"generator-section\">\n          <div className=\"generator-container\">\n            <div className=\"generator-header\">\n              <h2 className=\"section-title\">Create Your Viral Clips</h2>\n              <p className=\"section-subtitle\">\n                Paste your YouTube URL and let our AI create engaging clips in seconds\n              </p>\n            </div>\n            \n            <form onSubmit={handleSubmit} className=\"generator-form\">\n              <div className=\"input-container\">\n                <div className=\"input-wrapper\">\n                  <input\n                    type=\"text\"\n                    className=\"url-input\"\n                    placeholder=\"Paste your YouTube URL here...\"\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                    required\n                  />\n                  <div className=\"input-icon\">\n                    <VideoIcon />\n                  </div>\n                </div>\n                <button type=\"submit\" className=\"submit-button\" disabled={isLoading || !url}>\n                  {isLoading ? (\n                    <>\n                      <LoadingIcon />\n                      <span>Processing...</span>\n                    </>\n                  ) : (\n                    <>\n                      <RocketIcon />\n                      <span>Create Viral Clips</span>\n                    </>\n                  )}\n                </button>\n              </div>\n              \n              {/* Options Section */}\n              <div className=\"options-container\">\n                {/* Row 1: Processing Mode, Captions, Caption Style */}\n                <div className=\"options-row-1\">\n                  <div className=\"option-group\">\n                    <label className=\"option-label\">\n                      <VideoIcon />\n                      Processing Mode\n                    </label>\n                    <select \n                      className=\"option-select\"\n                      value={processingMode}\n                      onChange={(e) => setProcessingMode(e.target.value)}\n                    >\n                      <option value=\"auto\">🤖 Auto-Detect (Recommended)</option>\n                      <option value=\"crop\">🎤 Cropped - Best for focusing on speaker</option>\n                      <option value=\"resize\">📱 Rescaled - Best when no speaker/voiceovers</option>\n                    </select>\n                  </div>\n\n                  <div className=\"option-group\">\n                    <label className=\"option-label\">\n                      <SparkleIcon />\n                      Captions\n                    </label>\n                    <div className=\"toggle-container\">\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={captionsEnabled}\n                          onChange={(e) => setCaptionsEnabled(e.target.checked)}\n                        />\n                        <span className=\"toggle-slider\"></span>\n                      </label>\n                      <span className=\"toggle-text\">{captionsEnabled ? 'On' : 'Off'}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"option-group\">\n                    <label className=\"option-label\">\n                      <SparkleIcon />\n                      Caption Style\n                    </label>\n                    <select \n                      className=\"option-select\"\n                      value={captionStyle}\n                      onChange={(e) => setCaptionStyle(e.target.value)}\n                      disabled={!captionsEnabled}\n                    >\n                      <option value=\"single-word\">Single Word</option>\n                      <option value=\"engaging\">Engaging Phrases</option>\n                    </select>\n                  </div>\n                </div>\n\n                {/* Row 2: Number of Clips, Clip Duration */}\n                <div className=\"options-row-2\">\n                  <div className=\"option-group\">\n                    <label className=\"option-label\">\n                      <ClockIcon />\n                      Number of Clips\n                    </label>\n                    <select \n                      className=\"option-select\"\n                      value={numClips}\n                      onChange={(e) => setNumClips(parseInt(e.target.value))}\n                    >\n                      <option value={1}>1 clip</option>\n                      <option value={2}>2 clips</option>\n                      <option value={3}>3 clips</option>\n                      <option value={4}>4 clips</option>\n                      <option value={5}>5 clips</option>\n                    </select>\n                  </div>\n\n                  <div className=\"option-group\">\n                    <label className=\"option-label\">\n                      <ClockIcon />\n                      Clip Duration\n                    </label>\n                    <select \n                      className=\"option-select\"\n                      value={clipDuration}\n                      onChange={(e) => setClipDuration(parseInt(e.target.value))}\n                    >\n                      <option value={15}>15 seconds</option>\n                      <option value={30}>30 seconds</option>\n                      <option value={60}>60 seconds</option>\n                    </select>\n                  </div>\n                </div>\n                \n                {processingMode !== 'auto' && (\n                  <div className=\"processing-mode-info\" style={{ \n                    fontSize: '0.85rem', \n                    color: '#666', \n                    marginTop: '0.5rem',\n                    padding: '0.5rem',\n                    background: '#f8f9fa',\n                    borderRadius: '4px',\n                    borderLeft: '3px solid #007bff'\n                  }}>\n                    {processingMode === 'crop' ? (\n                      <>\n                        <strong>🎤 Cropped Mode:</strong> Uses AI face detection to focus on speakers. \n                        Best for talking head videos, interviews, presentations.\n                      </>\n                    ) : (\n                      <>\n                        <strong>📱 Rescaled Mode:</strong> Preserves all visual content by resizing. \n                        Best for graphics, animations, text overlays, or stock footage with voiceover.\n                      </>\n                    )}\n                  </div>\n                )}\n              </div>\n            </form>\n          </div>\n        </section>\n\n        {/* Loading State */}\n        {isLoading && (\n          <section className=\"loading-section\">\n            <div className=\"loading-container\">\n              <div className=\"loading-animation\">\n                <div className=\"loading-spinner\"></div>\n                <div className=\"loading-dots\">\n                  <div className=\"dot\"></div>\n                  <div className=\"dot\"></div>\n                  <div className=\"dot\"></div>\n                </div>\n              </div>\n              <h3>Creating Your Viral Clips</h3>\n              <p>Our AI is analyzing your video and extracting the most engaging moments...</p>\n              <div className=\"progress-steps\">\n                <div className=\"step active\">\n                  <CheckIcon />\n                  <span>Video Downloaded</span>\n                </div>\n                <div className=\"step active\">\n                  <LoadingIcon />\n                  <span>AI Analysis</span>\n                </div>\n                <div className=\"step\">\n                  <span>Clip Generation</span>\n                </div>\n              </div>\n            </div>\n          </section>\n        )}\n\n            {/* Generated Clips Results */}\n            {clips.length > 0 && (\n              <section className=\"results-section\">\n                <div className=\"results-container\">\n                  {/* Success Message */}\n                  <div className=\"results-success\">\n                    <h3>🎉 Success! Your viral clips are ready</h3>\n                    <p>Our AI has analyzed your video and created {clips.length} optimized clips for maximum engagement</p>\n                  </div>\n\n                  <div className=\"results-header\">\n                    <h2 className=\"section-title\">Your Viral Clips</h2>\n                    <p className=\"section-subtitle\">\n                      AI-powered clips optimized for maximum engagement and viral potential\n                    </p>\n                  </div>\n                  \n                  <div className=\"results-grid\">\n                    {clips.map((clip, index) => (\n                      <div key={index} className=\"result-card\">\n                        <div className=\"result-video-container\">\n                          <div style={{position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', background: '#000', zIndex: 0}}></div>\n                          {/* Debug info - remove in production */}\n                          {process.env.NODE_ENV === 'development' && (\n                            <div style={{position: 'absolute', top: '5px', left: '5px', zIndex: 10, color: 'yellow', fontSize: '10px', background: 'rgba(0,0,0,0.8)', padding: '2px'}}>\n                              {clip.filename}\n                            </div>\n                          )}\n                          <video \n                            className=\"result-video vertical-video\" \n                            controls \n                            preload=\"metadata\"\n                            style={{position: 'relative', zIndex: 1}}\n                            key={`video-${index}-${clip.filename}`}\n                            onLoadStart={() => {\n                              console.log(`🔄 Video ${index + 1} loading started - ${clip.filename}`);\n                              setLoadingVideos(prev => {\n                                const newSet = new Set(prev);\n                                newSet.add(index);\n                                console.log(`🔄 Loading state updated for video ${index + 1}: true`);\n                                return newSet;\n                              });\n                            }}\n                            onLoadedData={() => {\n                              console.log(`✅ Video ${index + 1} data loaded successfully - ${clip.filename}`);\n                              setLoadingVideos(prev => {\n                                const newSet = new Set(prev);\n                                newSet.delete(index);\n                                console.log(`✅ Loading state updated for video ${index + 1}: false`);\n                                return newSet;\n                              });\n                            }}\n                            onError={(e) => {\n                              console.error(`❌ Video ${index + 1} error - ${clip.filename}:`, e);\n                              const videoElement = e.target as HTMLVideoElement;\n                              if (videoElement && videoElement.error) {\n                                console.error(`❌ Video ${index + 1} error details:`, {\n                                  code: videoElement.error.code,\n                                  message: videoElement.error.message,\n                                  url: `http://localhost:5000/clips/${clip.filename}`\n                                });\n                              }\n                              setLoadingVideos(prev => {\n                                const newSet = new Set(prev);\n                                newSet.delete(index);\n                                console.log(`❌ Loading state updated for video ${index + 1}: false (error)`);\n                                return newSet;\n                              });\n                            }}\n                            onCanPlay={() => {\n                              console.log(`🎬 Video ${index + 1} can play - ${clip.filename}`);\n                              setLoadingVideos(prev => {\n                                const newSet = new Set(prev);\n                                newSet.delete(index);\n                                console.log(`🎬 Loading state updated for video ${index + 1}: false (can play)`);\n                                return newSet;\n                              });\n                            }}\n                            onLoadedMetadata={() => {\n                              console.log(`📊 Video ${index + 1} metadata loaded - ${clip.filename}`);\n                            }}\n                          >\n                            <source \n                              src={`http://localhost:5000/clips/${clip.filename}`} \n                              type=\"video/mp4\"\n                              onError={(e) => {\n                                console.error(`🚨 Source error for ${clip.filename}:`, e);\n                                console.error(`🚨 Failed URL: http://localhost:5000/clips/${clip.filename}`);\n                              }}\n                            />\n                            Your browser does not support the video tag.\n                          </video>\n                          {/* Show loading indicator only when video is loading */}\n                          {loadingVideos.has(index) && (\n                            <div className=\"video-loading-overlay\">\n                              <div className=\"video-loading-spinner\"></div>\n                              <p style={{ margin: 0, fontSize: '0.9rem' }}>Loading clip...</p>\n                              <small style={{ opacity: 0.7, fontSize: '0.7rem' }}>\n                                Clip #{index + 1}\n                              </small>\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"result-info\">\n                          <h3>🎬 Viral Clip #{index + 1}</h3>\n                          <p>\n                            {clip.description || `Engaging ${clip.duration || clipDuration}s clip optimized for viral growth and maximum audience engagement.`}\n                          </p>\n                          {clip.processing_method && (\n                            <div style={{ fontSize: '0.8rem', opacity: 0.8, marginTop: '0.5rem' }}>\n                              {clip.processing_method === 'crop' ? (\n                                <span>🎤 Speaker-focused crop (confidence: {((clip.speaker_confidence || 0) * 100).toFixed(0)}%)</span>\n                              ) : (\n                                <span>📱 Content-preserving resize ({clip.content_type})</span>\n                              )}\n                            </div>\n                          )}\n                          <div className=\"result-actions\">\n                            <a \n                              href={`http://localhost:5000/clips/${clip.filename}`}\n                              className=\"action-button download\"\n                              download={`viral_clip_${index + 1}.mp4`}\n                              onClick={(e) => {\n                                console.log(`Downloading clip: ${clip.filename}`);\n                                // Test if file exists first\n                                fetch(`http://localhost:5000/clips/${clip.filename}`, {method: 'HEAD'})\n                                  .then(response => {\n                                    if (!response.ok) {\n                                      e.preventDefault();\n                                      alert('File not found on server');\n                                    }\n                                  })\n                                  .catch(error => {\n                                    console.error('Download test failed:', error);\n                                    e.preventDefault();\n                                    alert('Cannot access file');\n                                  });\n                              }}\n                            >\n                              <DownloadIcon />\n                              Download HD\n                            </a>\n                            <button \n                              className=\"action-button share\"\n                              onClick={() => {\n                                const clipUrl = `http://localhost:5000/clips/${clip.filename}`;\n                                console.log('Sharing clip:', clipUrl);\n                                if (navigator.share) {\n                                  navigator.share({\n                                    title: `Viral Clip #${index + 1}`,\n                                    text: 'Check out this AI-generated viral clip!',\n                                    url: clipUrl\n                                  });\n                                } else {\n                                  navigator.clipboard.writeText(clipUrl);\n                                  alert('Link copied to clipboard!');\n                                }\n                              }}\n                            >\n                              <SparkleIcon />\n                              Share\n                            </button>\n                            <button\n                              className=\"action-button upload\"\n                              style={{ background: '#ff0000', color: 'white', marginLeft: 8 }}\n                              onClick={() => handleUploadToYouTube(clip, index)}\n                              disabled={uploadingClipIndex === index}\n                            >\n                              {uploadingClipIndex === index ? 'Uploading...' : '🚀 Upload to YouTube'}\n                            </button>\n                            {uploadStatus[index] && (\n                              <span style={{ marginLeft: 10, fontWeight: 500 }}>{uploadStatus[index]}</span>\n                            )}\n                          </div>\n                          \n                          {/* Title Generator Integration */}\n                          <TitleGenerator \n                            clipFilename={clip.filename}\n                            onTitlesGenerated={(titles) => handleTitlesGenerated(index, titles)}\n                          />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </section>\n            )}\n          </>\n        ) : (\n          <YouTubeUpload />\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"yJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,WAAW,CAClB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAmC9C;AACA,KAAM,CAAAC,WAAW,CAAGA,CAAA,gBAClBL,IAAA,QAAKM,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAC,QAAA,cACjEV,IAAA,SAAMW,CAAC,CAAC,+FAA+F,CAAC,CAAC,CACtG,CACN,CAED,KAAM,CAAAC,UAAU,CAAGA,CAAA,gBACjBZ,IAAA,QAAKM,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAC,QAAA,cACjEV,IAAA,SAAMW,CAAC,CAAC,4EAA4E,CAAC,CAAC,CACnF,CACN,CAED,KAAM,CAAAE,SAAS,CAAGA,CAAA,gBAChBb,IAAA,QAAKM,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAC,QAAA,cACjEV,IAAA,SAAMW,CAAC,CAAC,eAAe,CAAC,CAAC,CACtB,CACN,CAED,KAAM,CAAAG,SAAS,CAAGA,CAAA,gBAChBZ,KAAA,QAAKI,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAC,QAAA,eACjEV,IAAA,WAAQe,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAAC,CAAC,cAChCjB,IAAA,aAAUkB,MAAM,CAAC,kBAAkB,CAAC,CAAC,EAClC,CACN,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,gBACnBjB,KAAA,QAAKI,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAC,QAAA,eACjEV,IAAA,SAAMW,CAAC,CAAC,2CAA2C,CAAC,CAAC,cACrDX,IAAA,aAAUkB,MAAM,CAAC,kBAAkB,CAAC,CAAC,cACrClB,IAAA,SAAMoB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAAC,CAAC,EACnC,CACN,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,gBAClBxB,IAAA,QAAKM,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAACgB,SAAS,CAAC,cAAc,CAAAf,QAAA,cAC1FV,IAAA,WAAQe,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAACS,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAClB,IAAI,CAAC,MAAM,CAACmB,eAAe,CAAC,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAAAnB,QAAA,cACzHV,IAAA,YAAS8B,aAAa,CAAC,mBAAmB,CAACC,GAAG,CAAC,IAAI,CAACC,MAAM,CAAC,MAAM,CAACC,WAAW,CAAC,YAAY,CAAC,CAAC,CACtF,CAAC,CACN,CACN,CAED,KAAM,CAAAC,SAAS,CAAGA,CAAA,gBAChBlC,IAAA,QAAKM,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAC,QAAA,cACjEV,IAAA,aAAUkB,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAChC,CACN,CAED,QAAS,CAAAiB,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGzC,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAAC0C,SAAS,CAAEC,YAAY,CAAC,CAAG3C,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC4C,KAAK,CAAEC,QAAQ,CAAC,CAAG7C,QAAQ,CAAS,EAAE,CAAC,CAC9C,KAAM,CAAC8C,QAAQ,CAAEC,WAAW,CAAC,CAAG/C,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACgD,YAAY,CAAEC,eAAe,CAAC,CAAGjD,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACkD,eAAe,CAAEC,kBAAkB,CAAC,CAAGnD,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACoD,YAAY,CAAEC,eAAe,CAAC,CAAGrD,QAAQ,CAAC,aAAa,CAAC,CAC/D,KAAM,CAACsD,cAAc,CAAEC,iBAAiB,CAAC,CAAGvD,QAAQ,CAAC,MAAM,CAAC,CAAE;AAC9D,KAAM,CAACwD,aAAa,CAAEC,gBAAgB,CAAC,CAAGzD,QAAQ,CAAc,GAAI,CAAA0D,GAAG,CAAC,CAAC,CAAC,CAC1E,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG5D,QAAQ,CAAwB,UAAU,CAAC,CACjF,KAAM,CAAC6D,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG9D,QAAQ,CAAgB,IAAI,CAAC,CACjF,KAAM,CAAC+D,YAAY,CAAEC,eAAe,CAAC,CAAGhE,QAAQ,CAA0B,CAAC,CAAC,CAAC,CAC7E,KAAM,CAACiE,UAAU,CAAEC,aAAa,CAAC,CAAGlE,QAAQ,CAAyB,CAAC,CAAC,CAAC,CAExE,KAAM,CAAAmE,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB1B,YAAY,CAAC,IAAI,CAAC,CAElB,GAAI,CACF2B,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC,CAC3C,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CACxE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIN,OAAO,mBAAkB,CACvDO,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,MAAM,CAAE5C,GAAG,CACXM,QAAQ,CAAEA,QAAQ,CAClBE,YAAY,CAAEA,YAAY,CAC1BI,YAAY,CAAEF,eAAe,CAAGE,YAAY,CAAG,MAAM,CACrDiC,SAAS,CAAE,QAAQ,CACnB/B,cAAc,CAAEA,cAClB,CAAC,CACH,CAAC,CAAC,CAEFgB,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEK,QAAQ,CAACU,MAAM,CAAC,CAChD,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAX,QAAQ,CAACY,IAAI,CAAC,CAAC,CAClClB,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEgB,IAAI,CAAC,CAEnC,GAAIA,IAAI,CAAC3C,KAAK,CAAE,CACd0B,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEgB,IAAI,CAAC3C,KAAK,CAAC,CACzCC,QAAQ,CAAC0C,IAAI,CAAC3C,KAAK,CAAC,CACtB,CAAC,IAAM,CACL0B,OAAO,CAACmB,IAAI,CAAC,+BAA+B,CAAC,CAC/C,CACF,CAAE,MAAOC,KAAK,CAAE,CACdpB,OAAO,CAACoB,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3CC,KAAK,CAAC,mFAAmF,CAAC,CAC5F,CAAC,OAAS,CACRhD,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED;AACA,KAAM,CAAAiD,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAApB,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CACxE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIN,OAAO,KAAG,CAAC,CAC3C,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAX,QAAQ,CAACY,IAAI,CAAC,CAAC,CAClClB,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEgB,IAAI,CAAC,CAE5C;AACA,KAAM,CAAAM,aAAa,CAAG,KAAM,CAAAhB,KAAK,IAAAC,MAAA,CAAIN,OAAO,eAAa,CAAC,CAC1D,KAAM,CAAAsB,SAAS,CAAG,KAAM,CAAAD,aAAa,CAACL,IAAI,CAAC,CAAC,CAC5ClB,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEuB,SAAS,CAAC,CAC5C,CAAE,MAAOJ,KAAK,CAAE,CACdpB,OAAO,CAACoB,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC7C,CACF,CAAC,CAED;AACA3F,KAAK,CAACgG,SAAS,CAAC,IAAM,CACpBH,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN;AACA7F,KAAK,CAACgG,SAAS,CAAC,IAAM,CACpB,GAAInD,KAAK,CAACoD,MAAM,CAAG,CAAC,CAAE,CACpB,KAAM,CAAAxB,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CACxEL,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAE3B,KAAK,CAACqD,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,IAAM,CAC5DA,KAAK,CACLC,QAAQ,CAAEF,IAAI,CAACE,QAAQ,CACvB5D,GAAG,IAAAsC,MAAA,CAAKN,OAAO,YAAAM,MAAA,CAAUoB,IAAI,CAACE,QAAQ,CACxC,CAAC,CAAC,CAAC,CAAC,CACJ3C,gBAAgB,CAAC,GAAI,CAAAC,GAAG,CAACd,KAAK,CAACqD,GAAG,CAAC,CAACI,CAAC,CAAEF,KAAK,GAAKA,KAAK,CAAC,CAAC,CAAC,CAEzD;AACA,KAAM,CAAAG,eAAe,CAAGC,UAAU,CAAC,IAAM,CACvCjC,OAAO,CAACC,GAAG,CAAC,0DAA0D,CAAC,CACvEd,gBAAgB,CAAC,GAAI,CAAAC,GAAG,CAAC,CAAC,CAAC,CAC7B,CAAC,CAAE,KAAK,CAAC,CAET,MAAO,IAAM8C,YAAY,CAACF,eAAe,CAAC,CAC5C,CACF,CAAC,CAAE,CAAC1D,KAAK,CAAC,CAAC,CAEX;AACA,KAAM,CAAA6D,qBAAqB,CAAGA,CAACC,SAAiB,CAAEC,MAAa,GAAK,CAClErC,OAAO,CAACC,GAAG,qCAAAO,MAAA,CAAgC4B,SAAS,MAAKC,MAAM,CAAC,CAChEzC,aAAa,CAAC0C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACbD,IAAI,MACP,CAACF,SAAS,EAAGC,MAAM,EACnB,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAG,qBAAqB,CAAG,KAAAA,CAAOZ,IAAU,CAAEC,KAAa,GAAK,CACjErC,qBAAqB,CAACqC,KAAK,CAAC,CAC5BnC,eAAe,CAAE4C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACT,KAAK,EAAG,cAAc,EAAG,CAAC,CAEjE;AACA,KAAM,CAAAY,eAAe,CAAG9C,UAAU,CAACkC,KAAK,CAAC,CACzC,KAAM,CAAAa,SAAS,CAAGD,eAAe,EAAIA,eAAe,CAACf,MAAM,CAAG,CAAC,CAC3De,eAAe,CAAC,CAAC,CAAC,CAACE,KAAK,CACxBf,IAAI,CAACe,KAAK,iBAAAnC,MAAA,CAAmBqB,KAAK,CAAG,CAAC,CAAE,CAE5C,GAAI,CACF,KAAM,CAAA3B,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CACxE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIN,OAAO,2BAA0B,CAC/DO,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB+B,YAAY,CAAEhB,IAAI,CAACE,QAAQ,CAC3Ba,KAAK,CAAED,SAAS,CAChBG,WAAW,CAAEjB,IAAI,CAACiB,WAAW,EAAI,EAAE,CACnCC,gBAAgB,CAAE5E,GACpB,CAAC,CACH,CAAC,CAAC,CACF,KAAM,CAAA6E,MAAM,CAAG,KAAM,CAAAzC,QAAQ,CAACY,IAAI,CAAC,CAAC,CACpC,GAAI6B,MAAM,CAACC,OAAO,CAAE,CAClBtD,eAAe,CAAE4C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACT,KAAK,EAAG,sBAAsB,EAAG,CAAC,CAC3E,CAAC,IAAM,CACLnC,eAAe,CAAE4C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACT,KAAK,EAAG,iBAAiB,EAAG,CAAC,CACtE,CACF,CAAE,MAAOoB,GAAG,CAAE,CACZvD,eAAe,CAAE4C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACT,KAAK,EAAG,iBAAiB,EAAG,CAAC,CACtE,CAAC,OAAS,CACRrC,qBAAqB,CAAC,IAAI,CAAC,CAC7B,CACF,CAAC,CAED,mBACExD,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAf,QAAA,eAE5BV,IAAA,WAAQyB,SAAS,CAAC,QAAQ,CAAAf,QAAA,cACxBR,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAf,QAAA,eAC7BR,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAf,QAAA,eAC7BV,IAAA,QAAKoH,GAAG,CAAC,4BAA4B,CAACC,GAAG,CAAC,sBAAsB,CAAC5F,SAAS,CAAC,YAAY,CAAE,CAAC,cAC1FzB,IAAA,SAAMyB,SAAS,CAAC,YAAY,CAAAf,QAAA,CAAC,SAAO,CAAM,CAAC,EACxC,CAAC,cACNR,KAAA,QAAKuB,SAAS,CAAC,UAAU,CAAAf,QAAA,eACvBV,IAAA,MAAGsH,IAAI,CAAC,WAAW,CAAC7F,SAAS,CAAC,UAAU,CAAAf,QAAA,CAAC,UAAQ,CAAG,CAAC,cACrDV,IAAA,WACEyB,SAAS,aAAAiD,MAAA,CAAcnB,WAAW,GAAK,UAAU,CAAG,QAAQ,CAAG,EAAE,CAAG,CACpEgE,OAAO,CAAEA,CAAA,GAAM/D,cAAc,CAAC,UAAU,CAAE,CAAA9C,QAAA,CAC3C,gBAED,CAAQ,CAAC,cACTV,IAAA,WACEyB,SAAS,aAAAiD,MAAA,CAAcnB,WAAW,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClEgE,OAAO,CAAEA,CAAA,GAAM/D,cAAc,CAAC,QAAQ,CAAE,CAAA9C,QAAA,CACzC,gCAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACA,CAAC,cAGTR,KAAA,YAASuB,SAAS,CAAC,MAAM,CAAAf,QAAA,eACvBV,IAAA,QAAKyB,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvCvB,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BR,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAf,QAAA,eACzBV,IAAA,CAACK,WAAW,GAAE,CAAC,cACfL,IAAA,SAAAU,QAAA,CAAM,mCAAiC,CAAM,CAAC,EAC3C,CAAC,cACNR,KAAA,OAAIuB,SAAS,CAAC,YAAY,CAAAf,QAAA,EAAC,4BAEzB,cAAAV,IAAA,SAAMyB,SAAS,CAAC,eAAe,CAAAf,QAAA,CAAC,cAAY,CAAM,CAAC,EACjD,CAAC,cACLV,IAAA,MAAGyB,SAAS,CAAC,kBAAkB,CAAAf,QAAA,CAAC,gLAGhC,CAAG,CAAC,cACJR,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAf,QAAA,eACzBR,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAf,QAAA,eACxBV,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAf,QAAA,CAAC,MAAI,CAAK,CAAC,cACvCV,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAf,QAAA,CAAC,iBAAe,CAAK,CAAC,EAC9C,CAAC,cACNR,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAf,QAAA,eACxBV,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAf,QAAA,CAAC,KAAG,CAAK,CAAC,cACtCV,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAf,QAAA,CAAC,eAAa,CAAK,CAAC,EAC5C,CAAC,cACNR,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAf,QAAA,eACxBV,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAf,QAAA,CAAC,KAAG,CAAK,CAAC,cACtCV,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAf,QAAA,CAAC,iBAAe,CAAK,CAAC,EAC9C,CAAC,EACH,CAAC,EACH,CAAC,cACNV,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAf,QAAA,cAC1BR,KAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAf,QAAA,eAChCV,IAAA,QAAKyB,SAAS,CAAC,eAAe,CAAC+F,KAAK,CAAE,CAACC,cAAc,CAAE,IAAI,CAAE,CAAA/G,QAAA,cAACV,IAAA,CAACa,SAAS,GAAE,CAAC,CAAK,CAAC,cACjFb,IAAA,QAAKyB,SAAS,CAAC,eAAe,CAAC+F,KAAK,CAAE,CAACC,cAAc,CAAE,IAAI,CAAE,CAAA/G,QAAA,cAACV,IAAA,CAACY,UAAU,GAAE,CAAC,CAAK,CAAC,cAClFZ,IAAA,QAAKyB,SAAS,CAAC,eAAe,CAAC+F,KAAK,CAAE,CAACC,cAAc,CAAE,IAAI,CAAE,CAAA/G,QAAA,cAACV,IAAA,CAACK,WAAW,GAAE,CAAC,CAAK,CAAC,EAChF,CAAC,CACH,CAAC,EACC,CAAC,cAGVL,IAAA,YAAS0H,EAAE,CAAC,UAAU,CAACjG,SAAS,CAAC,kBAAkB,CAAAf,QAAA,cACjDR,KAAA,QAAKuB,SAAS,CAAC,oBAAoB,CAAAf,QAAA,eACjCV,IAAA,OAAIyB,SAAS,CAAC,eAAe,CAAAf,QAAA,CAAC,mCAAiC,CAAI,CAAC,cACpER,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAf,QAAA,eAC5BR,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BV,IAAA,QAAKyB,SAAS,CAAC,4BAA4B,CAAAf,QAAA,cACzCV,IAAA,CAACK,WAAW,GAAE,CAAC,CACZ,CAAC,cACNL,IAAA,OAAAU,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BV,IAAA,MAAAU,QAAA,CAAG,sEAAoE,CAAG,CAAC,EACxE,CAAC,cACNR,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BV,IAAA,QAAKyB,SAAS,CAAC,4BAA4B,CAAAf,QAAA,cACzCV,IAAA,CAACY,UAAU,GAAE,CAAC,CACX,CAAC,cACNZ,IAAA,OAAAU,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BV,IAAA,MAAAU,QAAA,CAAG,uDAAqD,CAAG,CAAC,EACzD,CAAC,cACNR,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BV,IAAA,QAAKyB,SAAS,CAAC,4BAA4B,CAAAf,QAAA,cACzCV,IAAA,CAACa,SAAS,GAAE,CAAC,CACV,CAAC,cACNb,IAAA,OAAAU,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BV,IAAA,MAAAU,QAAA,CAAG,oEAAkE,CAAG,CAAC,EACtE,CAAC,EACH,CAAC,EACH,CAAC,CACC,CAAC,cAGVV,IAAA,SAAMyB,SAAS,CAAC,cAAc,CAAAf,QAAA,CAC3B6C,WAAW,GAAK,UAAU,cACzBrD,KAAA,CAAAE,SAAA,EAAAM,QAAA,eAEEV,IAAA,YAAS0H,EAAE,CAAC,UAAU,CAACjG,SAAS,CAAC,mBAAmB,CAAAf,QAAA,cACtDR,KAAA,QAAKuB,SAAS,CAAC,qBAAqB,CAAAf,QAAA,eAClCR,KAAA,QAAKuB,SAAS,CAAC,kBAAkB,CAAAf,QAAA,eAC/BV,IAAA,OAAIyB,SAAS,CAAC,eAAe,CAAAf,QAAA,CAAC,yBAAuB,CAAI,CAAC,cAC1DV,IAAA,MAAGyB,SAAS,CAAC,kBAAkB,CAAAf,QAAA,CAAC,wEAEhC,CAAG,CAAC,EACD,CAAC,cAENR,KAAA,SAAMyH,QAAQ,CAAE5D,YAAa,CAACtC,SAAS,CAAC,gBAAgB,CAAAf,QAAA,eACtDR,KAAA,QAAKuB,SAAS,CAAC,iBAAiB,CAAAf,QAAA,eAC9BR,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAf,QAAA,eAC5BV,IAAA,UACE4H,IAAI,CAAC,MAAM,CACXnG,SAAS,CAAC,WAAW,CACrBoG,WAAW,CAAC,gCAAgC,CAC5CC,KAAK,CAAE1F,GAAI,CACX2F,QAAQ,CAAG/D,CAAC,EAAK3B,MAAM,CAAC2B,CAAC,CAACgE,MAAM,CAACF,KAAK,CAAE,CACxCG,QAAQ,MACT,CAAC,cACFjI,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAf,QAAA,cACzBV,IAAA,CAACa,SAAS,GAAE,CAAC,CACV,CAAC,EACH,CAAC,cACNb,IAAA,WAAQ4H,IAAI,CAAC,QAAQ,CAACnG,SAAS,CAAC,eAAe,CAACyG,QAAQ,CAAE5F,SAAS,EAAI,CAACF,GAAI,CAAA1B,QAAA,CACzE4B,SAAS,cACRpC,KAAA,CAAAE,SAAA,EAAAM,QAAA,eACEV,IAAA,CAACwB,WAAW,GAAE,CAAC,cACfxB,IAAA,SAAAU,QAAA,CAAM,eAAa,CAAM,CAAC,EAC1B,CAAC,cAEHR,KAAA,CAAAE,SAAA,EAAAM,QAAA,eACEV,IAAA,CAACY,UAAU,GAAE,CAAC,cACdZ,IAAA,SAAAU,QAAA,CAAM,oBAAkB,CAAM,CAAC,EAC/B,CACH,CACK,CAAC,EACN,CAAC,cAGNR,KAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAf,QAAA,eAEhCR,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAf,QAAA,eAC5BR,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BR,KAAA,UAAOuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC7BV,IAAA,CAACa,SAAS,GAAE,CAAC,kBAEf,EAAO,CAAC,cACRX,KAAA,WACEuB,SAAS,CAAC,eAAe,CACzBqG,KAAK,CAAE5E,cAAe,CACtB6E,QAAQ,CAAG/D,CAAC,EAAKb,iBAAiB,CAACa,CAAC,CAACgE,MAAM,CAACF,KAAK,CAAE,CAAApH,QAAA,eAEnDV,IAAA,WAAQ8H,KAAK,CAAC,MAAM,CAAApH,QAAA,CAAC,wCAA4B,CAAQ,CAAC,cAC1DV,IAAA,WAAQ8H,KAAK,CAAC,MAAM,CAAApH,QAAA,CAAC,qDAAyC,CAAQ,CAAC,cACvEV,IAAA,WAAQ8H,KAAK,CAAC,QAAQ,CAAApH,QAAA,CAAC,yDAA6C,CAAQ,CAAC,EACvE,CAAC,EACN,CAAC,cAENR,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BR,KAAA,UAAOuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC7BV,IAAA,CAACK,WAAW,GAAE,CAAC,WAEjB,EAAO,CAAC,cACRH,KAAA,QAAKuB,SAAS,CAAC,kBAAkB,CAAAf,QAAA,eAC/BR,KAAA,UAAOuB,SAAS,CAAC,eAAe,CAAAf,QAAA,eAC9BV,IAAA,UACE4H,IAAI,CAAC,UAAU,CACfO,OAAO,CAAErF,eAAgB,CACzBiF,QAAQ,CAAG/D,CAAC,EAAKjB,kBAAkB,CAACiB,CAAC,CAACgE,MAAM,CAACG,OAAO,CAAE,CACvD,CAAC,cACFnI,IAAA,SAAMyB,SAAS,CAAC,eAAe,CAAO,CAAC,EAClC,CAAC,cACRzB,IAAA,SAAMyB,SAAS,CAAC,aAAa,CAAAf,QAAA,CAAEoC,eAAe,CAAG,IAAI,CAAG,KAAK,CAAO,CAAC,EAClE,CAAC,EACH,CAAC,cAEN5C,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BR,KAAA,UAAOuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC7BV,IAAA,CAACK,WAAW,GAAE,CAAC,gBAEjB,EAAO,CAAC,cACRH,KAAA,WACEuB,SAAS,CAAC,eAAe,CACzBqG,KAAK,CAAE9E,YAAa,CACpB+E,QAAQ,CAAG/D,CAAC,EAAKf,eAAe,CAACe,CAAC,CAACgE,MAAM,CAACF,KAAK,CAAE,CACjDI,QAAQ,CAAE,CAACpF,eAAgB,CAAApC,QAAA,eAE3BV,IAAA,WAAQ8H,KAAK,CAAC,aAAa,CAAApH,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChDV,IAAA,WAAQ8H,KAAK,CAAC,UAAU,CAAApH,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EAC5C,CAAC,EACN,CAAC,EACH,CAAC,cAGNR,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAf,QAAA,eAC5BR,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BR,KAAA,UAAOuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC7BV,IAAA,CAACc,SAAS,GAAE,CAAC,kBAEf,EAAO,CAAC,cACRZ,KAAA,WACEuB,SAAS,CAAC,eAAe,CACzBqG,KAAK,CAAEpF,QAAS,CAChBqF,QAAQ,CAAG/D,CAAC,EAAKrB,WAAW,CAACyF,QAAQ,CAACpE,CAAC,CAACgE,MAAM,CAACF,KAAK,CAAC,CAAE,CAAApH,QAAA,eAEvDV,IAAA,WAAQ8H,KAAK,CAAE,CAAE,CAAApH,QAAA,CAAC,QAAM,CAAQ,CAAC,cACjCV,IAAA,WAAQ8H,KAAK,CAAE,CAAE,CAAApH,QAAA,CAAC,SAAO,CAAQ,CAAC,cAClCV,IAAA,WAAQ8H,KAAK,CAAE,CAAE,CAAApH,QAAA,CAAC,SAAO,CAAQ,CAAC,cAClCV,IAAA,WAAQ8H,KAAK,CAAE,CAAE,CAAApH,QAAA,CAAC,SAAO,CAAQ,CAAC,cAClCV,IAAA,WAAQ8H,KAAK,CAAE,CAAE,CAAApH,QAAA,CAAC,SAAO,CAAQ,CAAC,EAC5B,CAAC,EACN,CAAC,cAENR,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BR,KAAA,UAAOuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC7BV,IAAA,CAACc,SAAS,GAAE,CAAC,gBAEf,EAAO,CAAC,cACRZ,KAAA,WACEuB,SAAS,CAAC,eAAe,CACzBqG,KAAK,CAAElF,YAAa,CACpBmF,QAAQ,CAAG/D,CAAC,EAAKnB,eAAe,CAACuF,QAAQ,CAACpE,CAAC,CAACgE,MAAM,CAACF,KAAK,CAAC,CAAE,CAAApH,QAAA,eAE3DV,IAAA,WAAQ8H,KAAK,CAAE,EAAG,CAAApH,QAAA,CAAC,YAAU,CAAQ,CAAC,cACtCV,IAAA,WAAQ8H,KAAK,CAAE,EAAG,CAAApH,QAAA,CAAC,YAAU,CAAQ,CAAC,cACtCV,IAAA,WAAQ8H,KAAK,CAAE,EAAG,CAAApH,QAAA,CAAC,YAAU,CAAQ,CAAC,EAChC,CAAC,EACN,CAAC,EACH,CAAC,CAELwC,cAAc,GAAK,MAAM,eACxBlD,IAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAC+F,KAAK,CAAE,CAC3Ca,QAAQ,CAAE,SAAS,CACnBC,KAAK,CAAE,MAAM,CACbC,SAAS,CAAE,QAAQ,CACnBC,OAAO,CAAE,QAAQ,CACjBC,UAAU,CAAE,SAAS,CACrBC,YAAY,CAAE,KAAK,CACnBC,UAAU,CAAE,mBACd,CAAE,CAAAjI,QAAA,CACCwC,cAAc,GAAK,MAAM,cACxBhD,KAAA,CAAAE,SAAA,EAAAM,QAAA,eACEV,IAAA,WAAAU,QAAA,CAAQ,4BAAgB,CAAQ,CAAC,yGAEnC,EAAE,CAAC,cAEHR,KAAA,CAAAE,SAAA,EAAAM,QAAA,eACEV,IAAA,WAAAU,QAAA,CAAQ,6BAAiB,CAAQ,CAAC,4HAEpC,EAAE,CACH,CACE,CACN,EACE,CAAC,EACF,CAAC,EACJ,CAAC,CACC,CAAC,CAGT4B,SAAS,eACRtC,IAAA,YAASyB,SAAS,CAAC,iBAAiB,CAAAf,QAAA,cAClCR,KAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAf,QAAA,eAChCR,KAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAf,QAAA,eAChCV,IAAA,QAAKyB,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvCvB,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAf,QAAA,eAC3BV,IAAA,QAAKyB,SAAS,CAAC,KAAK,CAAM,CAAC,cAC3BzB,IAAA,QAAKyB,SAAS,CAAC,KAAK,CAAM,CAAC,cAC3BzB,IAAA,QAAKyB,SAAS,CAAC,KAAK,CAAM,CAAC,EACxB,CAAC,EACH,CAAC,cACNzB,IAAA,OAAAU,QAAA,CAAI,2BAAyB,CAAI,CAAC,cAClCV,IAAA,MAAAU,QAAA,CAAG,4EAA0E,CAAG,CAAC,cACjFR,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAf,QAAA,eAC7BR,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAf,QAAA,eAC1BV,IAAA,CAACkC,SAAS,GAAE,CAAC,cACblC,IAAA,SAAAU,QAAA,CAAM,kBAAgB,CAAM,CAAC,EAC1B,CAAC,cACNR,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAf,QAAA,eAC1BV,IAAA,CAACwB,WAAW,GAAE,CAAC,cACfxB,IAAA,SAAAU,QAAA,CAAM,aAAW,CAAM,CAAC,EACrB,CAAC,cACNV,IAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAf,QAAA,cACnBV,IAAA,SAAAU,QAAA,CAAM,iBAAe,CAAM,CAAC,CACzB,CAAC,EACH,CAAC,EACH,CAAC,CACC,CACV,CAGI8B,KAAK,CAACoD,MAAM,CAAG,CAAC,eACf5F,IAAA,YAASyB,SAAS,CAAC,iBAAiB,CAAAf,QAAA,cAClCR,KAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAf,QAAA,eAEhCR,KAAA,QAAKuB,SAAS,CAAC,iBAAiB,CAAAf,QAAA,eAC9BV,IAAA,OAAAU,QAAA,CAAI,kDAAsC,CAAI,CAAC,cAC/CR,KAAA,MAAAQ,QAAA,EAAG,6CAA2C,CAAC8B,KAAK,CAACoD,MAAM,CAAC,yCAAuC,EAAG,CAAC,EACpG,CAAC,cAEN1F,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAf,QAAA,eAC7BV,IAAA,OAAIyB,SAAS,CAAC,eAAe,CAAAf,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACnDV,IAAA,MAAGyB,SAAS,CAAC,kBAAkB,CAAAf,QAAA,CAAC,uEAEhC,CAAG,CAAC,EACD,CAAC,cAENV,IAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAf,QAAA,CAC1B8B,KAAK,CAACqD,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACrB7F,KAAA,QAAiBuB,SAAS,CAAC,aAAa,CAAAf,QAAA,eACtCR,KAAA,QAAKuB,SAAS,CAAC,wBAAwB,CAAAf,QAAA,eACrCV,IAAA,QAAKwH,KAAK,CAAE,CAACoB,QAAQ,CAAE,UAAU,CAAEC,GAAG,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAC,CAAExI,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEkI,UAAU,CAAE,MAAM,CAAEM,MAAM,CAAE,CAAC,CAAE,CAAM,CAAC,CAExH1E,OAAO,CAACC,GAAG,CAAC0E,QAAQ,GAAK,aAAa,eACrChJ,IAAA,QAAKwH,KAAK,CAAE,CAACoB,QAAQ,CAAE,UAAU,CAAEC,GAAG,CAAE,KAAK,CAAEC,IAAI,CAAE,KAAK,CAAEC,MAAM,CAAE,EAAE,CAAET,KAAK,CAAE,QAAQ,CAAED,QAAQ,CAAE,MAAM,CAAEI,UAAU,CAAE,iBAAiB,CAAED,OAAO,CAAE,KAAK,CAAE,CAAA9H,QAAA,CACvJoF,IAAI,CAACE,QAAQ,CACX,CACN,cACD9F,KAAA,UACEuB,SAAS,CAAC,6BAA6B,CACvCwH,QAAQ,MACRC,OAAO,CAAC,UAAU,CAClB1B,KAAK,CAAE,CAACoB,QAAQ,CAAE,UAAU,CAAEG,MAAM,CAAE,CAAC,CAAE,CAEzCI,WAAW,CAAEA,CAAA,GAAM,CACjBjF,OAAO,CAACC,GAAG,uBAAAO,MAAA,CAAaqB,KAAK,CAAG,CAAC,wBAAArB,MAAA,CAAsBoB,IAAI,CAACE,QAAQ,CAAE,CAAC,CACvE3C,gBAAgB,CAACmD,IAAI,EAAI,CACvB,KAAM,CAAA4C,MAAM,CAAG,GAAI,CAAA9F,GAAG,CAACkD,IAAI,CAAC,CAC5B4C,MAAM,CAACC,GAAG,CAACtD,KAAK,CAAC,CACjB7B,OAAO,CAACC,GAAG,iDAAAO,MAAA,CAAuCqB,KAAK,CAAG,CAAC,UAAQ,CAAC,CACpE,MAAO,CAAAqD,MAAM,CACf,CAAC,CAAC,CACJ,CAAE,CACFE,YAAY,CAAEA,CAAA,GAAM,CAClBpF,OAAO,CAACC,GAAG,iBAAAO,MAAA,CAAYqB,KAAK,CAAG,CAAC,iCAAArB,MAAA,CAA+BoB,IAAI,CAACE,QAAQ,CAAE,CAAC,CAC/E3C,gBAAgB,CAACmD,IAAI,EAAI,CACvB,KAAM,CAAA4C,MAAM,CAAG,GAAI,CAAA9F,GAAG,CAACkD,IAAI,CAAC,CAC5B4C,MAAM,CAACG,MAAM,CAACxD,KAAK,CAAC,CACpB7B,OAAO,CAACC,GAAG,2CAAAO,MAAA,CAAsCqB,KAAK,CAAG,CAAC,WAAS,CAAC,CACpE,MAAO,CAAAqD,MAAM,CACf,CAAC,CAAC,CACJ,CAAE,CACFI,OAAO,CAAGxF,CAAC,EAAK,CACdE,OAAO,CAACoB,KAAK,iBAAAZ,MAAA,CAAYqB,KAAK,CAAG,CAAC,cAAArB,MAAA,CAAYoB,IAAI,CAACE,QAAQ,MAAKhC,CAAC,CAAC,CAClE,KAAM,CAAAyF,YAAY,CAAGzF,CAAC,CAACgE,MAA0B,CACjD,GAAIyB,YAAY,EAAIA,YAAY,CAACnE,KAAK,CAAE,CACtCpB,OAAO,CAACoB,KAAK,iBAAAZ,MAAA,CAAYqB,KAAK,CAAG,CAAC,oBAAmB,CACnD2D,IAAI,CAAED,YAAY,CAACnE,KAAK,CAACoE,IAAI,CAC7BC,OAAO,CAAEF,YAAY,CAACnE,KAAK,CAACqE,OAAO,CACnCvH,GAAG,gCAAAsC,MAAA,CAAiCoB,IAAI,CAACE,QAAQ,CACnD,CAAC,CAAC,CACJ,CACA3C,gBAAgB,CAACmD,IAAI,EAAI,CACvB,KAAM,CAAA4C,MAAM,CAAG,GAAI,CAAA9F,GAAG,CAACkD,IAAI,CAAC,CAC5B4C,MAAM,CAACG,MAAM,CAACxD,KAAK,CAAC,CACpB7B,OAAO,CAACC,GAAG,2CAAAO,MAAA,CAAsCqB,KAAK,CAAG,CAAC,mBAAiB,CAAC,CAC5E,MAAO,CAAAqD,MAAM,CACf,CAAC,CAAC,CACJ,CAAE,CACFQ,SAAS,CAAEA,CAAA,GAAM,CACf1F,OAAO,CAACC,GAAG,uBAAAO,MAAA,CAAaqB,KAAK,CAAG,CAAC,iBAAArB,MAAA,CAAeoB,IAAI,CAACE,QAAQ,CAAE,CAAC,CAChE3C,gBAAgB,CAACmD,IAAI,EAAI,CACvB,KAAM,CAAA4C,MAAM,CAAG,GAAI,CAAA9F,GAAG,CAACkD,IAAI,CAAC,CAC5B4C,MAAM,CAACG,MAAM,CAACxD,KAAK,CAAC,CACpB7B,OAAO,CAACC,GAAG,iDAAAO,MAAA,CAAuCqB,KAAK,CAAG,CAAC,sBAAoB,CAAC,CAChF,MAAO,CAAAqD,MAAM,CACf,CAAC,CAAC,CACJ,CAAE,CACFS,gBAAgB,CAAEA,CAAA,GAAM,CACtB3F,OAAO,CAACC,GAAG,uBAAAO,MAAA,CAAaqB,KAAK,CAAG,CAAC,wBAAArB,MAAA,CAAsBoB,IAAI,CAACE,QAAQ,CAAE,CAAC,CACzE,CAAE,CAAAtF,QAAA,eAEFV,IAAA,WACEoH,GAAG,gCAAA1C,MAAA,CAAiCoB,IAAI,CAACE,QAAQ,CAAG,CACpD4B,IAAI,CAAC,WAAW,CAChB4B,OAAO,CAAGxF,CAAC,EAAK,CACdE,OAAO,CAACoB,KAAK,kCAAAZ,MAAA,CAAwBoB,IAAI,CAACE,QAAQ,MAAKhC,CAAC,CAAC,CACzDE,OAAO,CAACoB,KAAK,yDAAAZ,MAAA,CAA+CoB,IAAI,CAACE,QAAQ,CAAE,CAAC,CAC9E,CAAE,CACH,CAAC,+CAEJ,YAAAtB,MAAA,CA1DgBqB,KAAK,MAAArB,MAAA,CAAIoB,IAAI,CAACE,QAAQ,CA0D/B,CAAC,CAEP5C,aAAa,CAAC0G,GAAG,CAAC/D,KAAK,CAAC,eACvB7F,KAAA,QAAKuB,SAAS,CAAC,uBAAuB,CAAAf,QAAA,eACpCV,IAAA,QAAKyB,SAAS,CAAC,uBAAuB,CAAM,CAAC,cAC7CzB,IAAA,MAAGwH,KAAK,CAAE,CAAEuC,MAAM,CAAE,CAAC,CAAE1B,QAAQ,CAAE,QAAS,CAAE,CAAA3H,QAAA,CAAC,iBAAe,CAAG,CAAC,cAChER,KAAA,UAAOsH,KAAK,CAAE,CAAEwC,OAAO,CAAE,GAAG,CAAE3B,QAAQ,CAAE,QAAS,CAAE,CAAA3H,QAAA,EAAC,QAC5C,CAACqF,KAAK,CAAG,CAAC,EACX,CAAC,EACL,CACN,EACE,CAAC,cACN7F,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAf,QAAA,eAC1BR,KAAA,OAAAQ,QAAA,EAAI,2BAAe,CAACqF,KAAK,CAAG,CAAC,EAAK,CAAC,cACnC/F,IAAA,MAAAU,QAAA,CACGoF,IAAI,CAACiB,WAAW,cAAArC,MAAA,CAAgBoB,IAAI,CAACmE,QAAQ,EAAIrH,YAAY,sEAAoE,CACjI,CAAC,CACHkD,IAAI,CAACoE,iBAAiB,eACrBlK,IAAA,QAAKwH,KAAK,CAAE,CAAEa,QAAQ,CAAE,QAAQ,CAAE2B,OAAO,CAAE,GAAG,CAAEzB,SAAS,CAAE,QAAS,CAAE,CAAA7H,QAAA,CACnEoF,IAAI,CAACoE,iBAAiB,GAAK,MAAM,cAChChK,KAAA,SAAAQ,QAAA,EAAM,iDAAqC,CAAC,CAAC,CAACoF,IAAI,CAACqE,kBAAkB,EAAI,CAAC,EAAI,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAE,EAAM,CAAC,cAEvGlK,KAAA,SAAAQ,QAAA,EAAM,0CAA8B,CAACoF,IAAI,CAACuE,YAAY,CAAC,GAAC,EAAM,CAC/D,CACE,CACN,cACDnK,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAf,QAAA,eAC7BR,KAAA,MACEoH,IAAI,gCAAA5C,MAAA,CAAiCoB,IAAI,CAACE,QAAQ,CAAG,CACrDvE,SAAS,CAAC,wBAAwB,CAClC6I,QAAQ,eAAA5F,MAAA,CAAgBqB,KAAK,CAAG,CAAC,QAAO,CACxCwB,OAAO,CAAGvD,CAAC,EAAK,CACdE,OAAO,CAACC,GAAG,sBAAAO,MAAA,CAAsBoB,IAAI,CAACE,QAAQ,CAAE,CAAC,CACjD;AACAvB,KAAK,gCAAAC,MAAA,CAAgCoB,IAAI,CAACE,QAAQ,EAAI,CAACrB,MAAM,CAAE,MAAM,CAAC,CAAC,CACpE4F,IAAI,CAAC/F,QAAQ,EAAI,CAChB,GAAI,CAACA,QAAQ,CAACgG,EAAE,CAAE,CAChBxG,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBsB,KAAK,CAAC,0BAA0B,CAAC,CACnC,CACF,CAAC,CAAC,CACDkF,KAAK,CAACnF,KAAK,EAAI,CACdpB,OAAO,CAACoB,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CtB,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBsB,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CAAC,CAAC,CACN,CAAE,CAAA7E,QAAA,eAEFV,IAAA,CAACmB,YAAY,GAAE,CAAC,cAElB,EAAG,CAAC,cACJjB,KAAA,WACEuB,SAAS,CAAC,qBAAqB,CAC/B8F,OAAO,CAAEA,CAAA,GAAM,CACb,KAAM,CAAAmD,OAAO,gCAAAhG,MAAA,CAAkCoB,IAAI,CAACE,QAAQ,CAAE,CAC9D9B,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEuG,OAAO,CAAC,CACrC,GAAIC,SAAS,CAACC,KAAK,CAAE,CACnBD,SAAS,CAACC,KAAK,CAAC,CACd/D,KAAK,gBAAAnC,MAAA,CAAiBqB,KAAK,CAAG,CAAC,CAAE,CACjC8E,IAAI,CAAE,yCAAyC,CAC/CzI,GAAG,CAAEsI,OACP,CAAC,CAAC,CACJ,CAAC,IAAM,CACLC,SAAS,CAACG,SAAS,CAACC,SAAS,CAACL,OAAO,CAAC,CACtCnF,KAAK,CAAC,2BAA2B,CAAC,CACpC,CACF,CAAE,CAAA7E,QAAA,eAEFV,IAAA,CAACK,WAAW,GAAE,CAAC,QAEjB,EAAQ,CAAC,cACTL,IAAA,WACEyB,SAAS,CAAC,sBAAsB,CAChC+F,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAS,CAAEH,KAAK,CAAE,OAAO,CAAE0C,UAAU,CAAE,CAAE,CAAE,CAChEzD,OAAO,CAAEA,CAAA,GAAMb,qBAAqB,CAACZ,IAAI,CAAEC,KAAK,CAAE,CAClDmC,QAAQ,CAAEzE,kBAAkB,GAAKsC,KAAM,CAAArF,QAAA,CAEtC+C,kBAAkB,GAAKsC,KAAK,CAAG,cAAc,CAAG,sBAAsB,CACjE,CAAC,CACRpC,YAAY,CAACoC,KAAK,CAAC,eAClB/F,IAAA,SAAMwH,KAAK,CAAE,CAAEwD,UAAU,CAAE,EAAE,CAAEC,UAAU,CAAE,GAAI,CAAE,CAAAvK,QAAA,CAAEiD,YAAY,CAACoC,KAAK,CAAC,CAAO,CAC9E,EACE,CAAC,cAGN/F,IAAA,CAACF,cAAc,EACbgH,YAAY,CAAEhB,IAAI,CAACE,QAAS,CAC5BkF,iBAAiB,CAAG3E,MAAM,EAAKF,qBAAqB,CAACN,KAAK,CAAEQ,MAAM,CAAE,CACrE,CAAC,EACC,CAAC,GAjKER,KAkKL,CACN,CAAC,CACC,CAAC,EACH,CAAC,CACC,CACV,EACD,CAAC,cAEH/F,IAAA,CAACH,aAAa,GAAE,CACjB,CACG,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAsC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}